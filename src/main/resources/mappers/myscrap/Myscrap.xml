<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="com.example.finalpro.dao.MyscrapDAO">
	<!-- 마이스크랩 체크 -->
	<select id="myscrapCheck" resultType="Integer">
		SELECT NVL(MAX(MEM_NO),0) FROM
    		(SELECT MEM_NO FROM MY_SCRAP
				WHERE Q_NO=#{q_no}
    			AND MEM_NO=#{mem_no})
	</select>
	
	<insert id="myscrapInsert" parameterType="com.example.finalpro.vo.MyscrapVO">
		INSERT INTO MY_SCRAP VALUES(MY_SCRAP_SEQ.nextval,#{q_no},#{mem_no},null,SYSDATE)
	</insert>
	
	<select id="myscrapList" resultType="com.example.finalpro.vo.MyscrapVO">
		select rownum,ms.q_no,ms.mem_no,q.q_title,ms.my_scrap_date
from my_scrap ms,( select q_title,q_no from q) q
where ms.q_no = q.q_no
and ms.mem_no=#{mem_no}
	</select>
</mapper>